# ==============================
# APPLICATION
# ==============================
spring.application.name=reactivegateway
server.port=8080

# ==============================
# CONFIGURATION DES ROUTES
# ==============================
spring.cloud.gateway.routes[0].id=utilisateurms
spring.cloud.gateway.routes[0].uri=lb://utilisateurms
spring.cloud.gateway.routes[0].predicates[0]=Path=/api/users/**
spring.cloud.gateway.routes[0].filters[0]=StripPrefix=1

spring.cloud.gateway.routes[1].id=trajetms
spring.cloud.gateway.routes[1].uri=lb://trajetms
spring.cloud.gateway.routes[1].predicates[0]=Path=/api/trajets/**
spring.cloud.gateway.routes[1].filters[0]=StripPrefix=1

spring.cloud.gateway.routes[2].id=reservationms
spring.cloud.gateway.routes[2].uri=lb://reservationms
spring.cloud.gateway.routes[2].predicates[0]=Path=/api/reservations/**
spring.cloud.gateway.routes[2].filters[0]=StripPrefix=1

spring.cloud.gateway.routes[3].id=configserver
spring.cloud.gateway.routes[3].uri=lb://configserver
spring.cloud.gateway.routes[3].predicates[0]=Path=/config/**
spring.cloud.gateway.routes[3].filters[0]=StripPrefix=1

# ==============================
# CORS GLOBAL - GATEWAY UNIQUEMENT
# ==============================
spring.cloud.gateway.globalcors.cors-configurations[/**].allowed-origins=http://localhost:4200
spring.cloud.gateway.globalcors.cors-configurations[/**].allowed-methods=GET,POST,PUT,DELETE,OPTIONS
spring.cloud.gateway.globalcors.cors-configurations[/**].allowed-headers=*
spring.cloud.gateway.globalcors.cors-configurations[/**].allow-credentials=false
